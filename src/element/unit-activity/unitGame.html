<!--
@license
Copyright (c) 2018 Pierre-Yves Gicquel. 
This code may only be used under the "Do whatever you want with code license"
-->
<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../../styles/common-styles.html">
<dom-module id="unit-game">
    <style include="common-styles">
            ul.activityList{
                margin-top: 0px;
                margin-left:30px;
            }
            div.activityContent{
                margin:10px;
                padding:8px;
            }
    
    </style>
    <template>
        <div class="resource">
            <template is="dom-if" if="{{item.POI}}">
                <div class="activityContent">
                    <paper-toggle-button checked={{poiShowed}} on-change="togglePOI">Afficher sur la carte</paper-toggle-button>
                </div>
            </template>

            <template is="dom-if" if="{{item.poiGuidMap}}">
                    <div class="activityContent">
                            <b>Guidance jusqu'au POI</b> : carte interactive
                </div>
            </template>
            <template is="dom-if" if="{{poiGPSValidation}}">
                    <div class="activityContent">
                            <b>Validation de l'arrivée au POI</b> : GPS
                </div>
            </template>
            <template is="dom-if" if="{{poiQRValidation}}">
                    <div class="activityContent">
                            <b>Validation de l'arrivée au POI</b> : QR-Code
                </div>
            </template>
            <div class="activityContent">
                    <b>Activité situées</b> :
                <ul class="activityList">
                    <li>{{item.freetextActivities.length}} questions libres</li>
                    <li>{{item.mcqActivities.length}} questions à choix multiples</li>
                </ul>
            </div>

        </div>
    </template>
    <script>
        (function () {
            'use strict';
            Polymer({
                is: 'unit-game',
                ready: function () {},
                togglePOI: function () {
                    if (this.item && this.item.POI) {
                        this.item.POI.label = this.label
                        if (this.poiShowed) {
                            this.fire('change-poi-map', {
                                show: true,
                                resource: this.item.POI
                            })

                        } else {
                            this.fire('change-poi-map', {
                                show: false,
                                resource: this.item.POI
                            })

                        }
                    }
                },
                properties: {
                    item: {
                        type: Object,
                        notify: true,
                    },

                }
            });
        })();
    </script>
</dom-module>