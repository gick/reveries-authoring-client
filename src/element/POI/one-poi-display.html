<!--
@license
Copyright (c) 2018 Pierre-Yves Gicquel. 
This code may only be used under the "Do whatever you want with code license"
-->
<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../styles/common-styles.html">
<dom-module id="one-poi-display">
    <template>
        <style include="common-styles">
        .info {
            color: #737373;
            font-weight: 400;
            font-size: 16px;
            font-family: 'Roboto', 'Noto', sans-serif;
            display: inline-block;
        }
        </style>
        <template is="dom-if" if="[[conceptionMode]]" restamp>
            <div class="resourceHeader">
                <h3 class="headerText">{{resourceLabel}}</h3>
            </div>
        </template>
        <div style="flex-grow:1" class="resource">
            <template is="dom-if" if={{item.creator}}>
                <div>Cr√©ateur :
                    <div class="info"> {{item.creator}}</div>
                </div>
            </template>
            <div>Longitude :
                <div class="info"> {{item.longitude}}</div>
            </div>
            <div>Latitude :
                <div class="info">{{item.latitude}}</div>
            </div>
            <div>Publique :
                <div class="info">{{item.public}}</div>
            </div>
            <div>Date :
                <div class="info">{{item.date}}</div>
            </div>
            <template is="dom-if" if={{item.comment}}>
                <div>Info :
                    <div class="info"> {{item.comment}}</div>
                </div>
            </template>
            <template is="dom-if" if="[[!conceptionMode]]" restamp>
                <div style="justify-content: center" class="insideflex">
                    <paper-button raised on-click="toggledMap">{{toggleMap}}</paper-button>
                </div>
            </template>
        </div>
    </template>
    <script>
    (function() {
        'use strict';

        Polymer({
            is: 'one-poi-display',

            ready: function() {
                this.toggleMap = "Montrer sur la carte"
                this.onMap = false

            },
            toggledMap: function() {
                this.onMap = !this.onMap
                var val = this.onMap
                if (val) {
                    this.fire('change-poi-map', { show: true, resource: this.item })
                    this.toggleMap = "Cacher"
                } else {
                    this.fire('change-poi-map', { show: false, resource: this.item })
                    this.toggleMap = "Montrer sur la carte"
                }
            },
            observers: [],
            properties: {
                item: {
                    type: Object,
                    notify: true,
                },
                resourceLabel: {
                    type: String,
                    notify: true,
                },
                onMap: {
                    type: Boolean,
                    value: false,
                    notify: true,
                },
                conceptionMode: {
                    type: Boolean,
                    value: false,
                    notify: true,

                }
            },


        })
    })();
    </script>
</dom-module>