<!--
@PYG
-->
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="./element/youtube-elements/youtube-importer.html">
<link rel="import" href="./element/youtube-elements/youtube-element.html">
<link rel="import" href="./element/resource-filtering/generic-header.html">
<link rel="import" href="../src/element/helper/list-generic-resource.html">

<link rel="import" href="./styles/common-styles.html">
<dom-module id="youtube-view">
    <template>
        <style include="common-styles">
        </style>
        <div class="card">

            <div class="topLevelInfo">
                <h1>Import de vidéo youtube</h1>
                <br> Dans cette section :
                <ul>
                    <li>Vous pouvez importer des vidéos youtube</li>
                </ul>
            </div>
        </div>
        <div class="card constructorCard">
            <youtube-importer video-id={{myvideo}} label={{label}} class="topLevelView"></youtube-importer>
            <youtube-element class="topLevelView" conception-mode resource-label=[[label]] video-id=[[myvideo]]></youtube-element>
        </div>
        <div class="card">
            <list-generic-resource filter-search=[[keyword]] share-url='/youtube' id='youtubeList'  resource-type='youtube' url='/youtube'></list-generic-resource>
        </div>



    </template>
    <script>
        Polymer({

            is: 'youtube-view',
            ready: function () {
                this.addEventListener('resource-operation', this.updateMedia.bind(this))

            },

             updateMedia: function (message) {
                switch (message.detail.info.operation) {
                    case 'create':
                        this.$.youtubeList.requestElements()
                        break
                    case 'update':
                        this.$.youtubeList.requestElements()
                        break

                    case 'delete':
                        this.$.youtubeList.requestElements()
                        break
                }
            },
            
        });
    </script>
</dom-module>